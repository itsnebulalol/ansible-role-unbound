---
unbound_compile: false
unbound_compile_version: 1.6.7
unbound_compile_config: "--enable-dnscrypt --with-username={{unbound.server.username|default(unbound)}} --with-libevent --with-run-dir={{unbound.server.directory}} --with-conf-file={{unbound.server.directory}}/unbound.conf"
unbound_optimise: false  # http://unbound.nlnetlabs.nl/documentation/howto_optimise.html
unbound_optimise_memory: 100  # percent
unbound_tls_domain: example.com  # common name for cert signing request
unbound_tls_cert_provider: selfsigned  # must be one of: selfsigned,assertonly,acme. no other provider implemented just yet
unbound:
  server:
    verbosity: 1
    # use_syslog: no
    # log-time-ascii: yes
    logfile: "unbound.log"
    # interface: [127.0.0.1, "::1"]
    # access-control: 0.0.0.0/0 allow
    auto_trust_anchor_file: "root.key"
    root_hints: "root.hints"
    # if not compiling use distribution default else use unbound default
    directory: "{{_unbound.conf_dir if unbound_compile == false else \"/usr/local/etc/unbound\"}}"
    chroot: "{{_unbound.conf_dir if unbound_compile == false else \"/usr/local/etc/unbound\"}}"
    pidfile: "unbound.pid"
    username: "{{_unbound.user}}"
  remote_control:
    control_enable: false
    control_interface: 127.0.0.1
    control_port: 953
    server_key_file: "unbound_server.key"
    server_cert_file: "unbound_server.pem"
    control_key_file: "unbound_control.key"
    control_cert_file: "unbound_control.pem"
