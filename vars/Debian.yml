---
_unbound:
  pip: python-pip
  user: unbound
  conf_dir: /etc/unbound
  # http://unbound.nlnetlabs.nl/documentation/howto_optimise.html
  # https://github.com/jedisct1/dnscrypt-server-docker/blob/master/unbound.sh
  memory_script: echo $(($(($((1024 * $((fgrep MemAvailable /proc/meminfo || fgrep MemTotal /proc/meminfo) | sed 's/[^0-9]//g' ))) - 12582912)) / 3))
  free_memory_script: echo $((1024 * $((fgrep MemAvailable /proc/meminfo) | sed 's/[^0-9]//g' )))
  pysical_memory_script: echo $((1024 * $((fgrep MemTotal /proc/meminfo) | sed 's/[^0-9]//g' )))  # bytes
  dependencies:
    - ca-certificates
    - libldns-dev
    - libevent-dev
    - libexpat1-dev
    - libsodium-dev
    - libssl-dev
    - libc-dev
    # - libc6-dev
    - musl-dev
    - make
    - gcc
